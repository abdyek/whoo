<?xml version="1.0" encoding="UTF-8"?>
<database name="whoo" defaultIdMethod="native">
    <table name="whoo_member" phpName="Member">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="email" type="varchar" size="255" required="true" />
        <column name="username" type="varchar" size="40" required="true" />
        <column name="password_hash" type="varchar" size="60" required="false"/>
        <column name="email_verified" type="boolean" required="true" defaultValue="false"/>
        <column name="sign_up_date_time" type="timestamp" required="true" defaultExpr="CURRENT_TIMESTAMP"/>
        <column name="sign_out_count" type="integer" required="true" defaultValue="0" />
        <column name="provider" type="varchar" size="255" required="false" />
        <column name="provider_id" type="varchar" size="255" required="false" />
    </table>
    <table name="whoo_authentication_code" phpName="AuthenticationCode">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="type" type="varchar" size="32" required="true" />
        <column name="code" type="varchar" size="64" required="true" />
        <column name="trial_count" type="integer" required="true" defaultValue="0" />
        <column name="date_time" type="timestamp" required="true" defaultExpr="CURRENT_TIMESTAMP"/>
        <column name="member_id" type="integer" required="true" />
        <foreign-key foreignTable="whoo_member">
            <reference local="member_id" foreign="id" />
        </foreign-key>
    </table>
</database>

